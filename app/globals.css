@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --lucid-bg: #030712;
  --lucid-surface: #0a0f1a;
  --lucid-card: #111827;
  --lucid-accent: #22d3ee;
  --lucid-purple: #a78bfa;
  --lucid-cyan: #22d3ee;
  --lucid-border: rgba(34, 211, 238, 0.2);
}

html {
  scroll-behavior: smooth;
}

body {
  color: #f9fafb;
  background: var(--lucid-bg);
  font-family: var(--font-sans), system-ui, sans-serif;
  -webkit-tap-highlight-color: transparent;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  overflow-x: hidden;
  width: 100%;
}

/* Utilities for extensive safe area control if needed */
.pt-safe {
  padding-top: env(safe-area-inset-top);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Mobile: prevent zoom on inputs by ensuring 16px font size */
@media (max-width: 640px) {

  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Ensure minimum touch target size for interactive elements where possible */
button,
a {
  touch-action: manipulation;
}

/* Mobile menu: wallet button must not overflow – stay inside menu box */
.mobile-menu-wallet-wrap {
  overflow: hidden;
}
.mobile-menu-wallet-wrap > * {
  max-width: 100% !important;
  min-width: 0 !important;
  width: 100% !important;
}
.mobile-menu-wallet-wrap .wallet-adapter-button {
  max-width: 100% !important;
  min-width: 0 !important;
  width: 100% !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
}
.mobile-menu-wallet-wrap .wallet-adapter-button span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: block;
  min-width: 0;
}

/* Mobile: wallet adapter – min touch target 44px, modal fits viewport */
@media (max-width: 640px) {
  .wallet-adapter-button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 0 16px !important;
  }
  .wallet-adapter-modal-wrapper {
    max-height: 100dvh !important;
    overflow-y: auto !important;
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left) !important;
  }
  .wallet-adapter-modal-list li {
    min-height: 48px !important;
  }
}

/* Magicblock-style gradient background */
.bg-hero {
  background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(34, 211, 238, 0.12), transparent 50%),
    radial-gradient(ellipse 60% 40% at 80% 60%, rgba(167, 139, 250, 0.1), transparent 50%),
    var(--lucid-bg);
}

/* Card with hover lift */
.card-lucid {
  @apply rounded-2xl border border-lucid-border bg-lucid-card/80 backdrop-blur-xl transition-all duration-300;
}

.card-lucid:hover {
  @apply -translate-y-1 border-lucid-accent/30 shadow-glow-cyan;
}

/* CTA button */
.btn-primary {
  @apply inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-lucid-cyan to-lucid-purple px-6 py-3 font-semibold text-lucid-bg shadow-glow-cyan transition-all duration-300 hover:opacity-90 hover:shadow-glow-purple;
}

.btn-secondary {
  @apply inline-flex items-center justify-center rounded-xl border border-lucid-border bg-lucid-surface/80 px-6 py-3 font-semibold text-lucid-white backdrop-blur-sm transition-all duration-300 hover:border-lucid-accent/50 hover:bg-lucid-card;
}

/* Scroll-triggered reveal (use with JS or Intersection Observer) */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger children */
.stagger>* {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s ease-out forwards;
}

.stagger>*:nth-child(1) {
  animation-delay: 0.1s;
}

.stagger>*:nth-child(2) {
  animation-delay: 0.2s;
}

.stagger>*:nth-child(3) {
  animation-delay: 0.3s;
}

.stagger>*:nth-child(4) {
  animation-delay: 0.4s;
}

.stagger>*:nth-child(5) {
  animation-delay: 0.5s;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Navbar glass */
.nav-glass {
  @apply fixed left-0 right-0 top-0 z-50 border-b border-lucid-border/50 bg-lucid-bg/80 backdrop-blur-xl;
  padding-top: env(safe-area-inset-top);
  height: calc(4rem + env(safe-area-inset-top));
  /* 4rem is h-16 */
}

.nav-glass>div {
  height: 100%;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--lucid-surface);
}

::-webkit-scrollbar-thumb {
  background: var(--lucid-muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--lucid-accent);
}

/* Capsule 3D motion */
@keyframes capsuleFloat {

  0%,
  100% {
    transform: perspective(800px) rotateY(0deg) rotateX(5deg) translateY(0);
  }

  25% {
    transform: perspective(800px) rotateY(90deg) rotateX(5deg) translateY(-8px);
  }

  50% {
    transform: perspective(800px) rotateY(180deg) rotateX(-5deg) translateY(0);
  }

  75% {
    transform: perspective(800px) rotateY(270deg) rotateX(-5deg) translateY(-8px);
  }
}

.capsule-3d-motion {
  animation: capsuleFloat 14s ease-in-out infinite;
  transform-style: preserve-3d;
}

/* Video-style media block (poster + loop animation) */
.capsule-media-block {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 200px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  overflow: hidden;
  border-radius: 1rem;
}

.capsule-media-poster {
  display: flex;
  align-items: center;
  justify-content: center;
}

.capsule-media-poster-inner {
  position: relative;
  width: 85%;
  height: 85%;
  max-width: 320px;
  max-height: 280px;
}

.capsule-media-motion {
  animation: capsuleMediaPulse 8s ease-in-out infinite;
}

@keyframes capsuleMediaPulse {

  0%,
  100% {
    transform: scale(1) rotateY(0deg);
    filter: brightness(1);
  }

  25% {
    transform: scale(1.03) rotateY(5deg);
    filter: brightness(1.05);
  }

  50% {
    transform: scale(1) rotateY(0deg);
    filter: brightness(1);
  }

  75% {
    transform: scale(1.02) rotateY(-5deg);
    filter: brightness(1.03);
  }
}

.capsule-media-block video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Hero section: video-style animated capsule (no video file) */
.hero-capsule-motion {
  min-height: 240px;
}
.hero-capsule-3d {
  position: relative;
  z-index: 10;
  transform-style: preserve-3d;
  animation: heroCapsuleFloat 12s ease-in-out infinite;
}
@keyframes heroCapsuleFloat {
  0%, 100% { transform: perspective(900px) rotateY(0deg) rotateX(8deg) scale(1); }
  25% { transform: perspective(900px) rotateY(90deg) rotateX(5deg) scale(1.02); }
  50% { transform: perspective(900px) rotateY(180deg) rotateX(-5deg) scale(1); }
  75% { transform: perspective(900px) rotateY(270deg) rotateX(-8deg) scale(1.02); }
}
.hero-capsule-glow {
  border-radius: 50%;
  background: radial-gradient(ellipse 80% 60% at 50% 50%, rgba(34, 211, 238, 0.35), rgba(167, 139, 250, 0.2) 50%, transparent 70%);
  animation: heroCapsuleGlow 4s ease-in-out infinite;
}
.hero-capsule-shell {
  border-radius: 9999px;
  background: linear-gradient(135deg, rgba(34, 211, 238, 0.15) 0%, transparent 40%, transparent 60%, rgba(167, 139, 250, 0.15) 100%);
  box-shadow:
    0 0 0 2px rgba(34, 211, 238, 0.5),
    0 0 24px rgba(34, 211, 238, 0.25),
    inset 0 0 40px rgba(34, 211, 238, 0.08);
  animation: heroCapsulePulse 3s ease-in-out infinite;
}
@keyframes heroCapsuleGlow {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.05); }
}
@keyframes heroCapsulePulse {
  0%, 100% { box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.5), 0 0 24px rgba(34, 211, 238, 0.25), inset 0 0 40px rgba(34, 211, 238, 0.08); }
  50% { box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.4), 0 0 32px rgba(167, 139, 250, 0.2), inset 0 0 50px rgba(34, 211, 238, 0.1); }
}

/* Heres Promo Reel (15s timeline) — 위아래 잘림 방지용 최소 높이 */
.promo-reel {
  --promo-cyan: rgba(34, 211, 238, 0.65);
  --promo-purple: rgba(167, 139, 250, 0.35);
  min-height: 200px;
}
@supports (aspect-ratio: 16 / 9) {
  .promo-reel {
    min-height: min(56.25vw, 360px);
  }
}
.promo-abs {
  position: absolute;
  left: 0;
  right: 0;
  pointer-events: none;
}
.promo-abs.center {
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
/* top 클래스가 있으면 위쪽 기준 정렬로 텍스트 겹침 방지 */
.promo-abs.center[class*="top-"] {
  align-items: flex-start;
  padding-top: 0;
}
/* Scene 2·3·4: 좌/우 각 50% 영역 가운데 정렬, 세로는 조금 위로(아래 치우침 방지) */
.promo-half-left {
  left: 0;
  width: 50%;
  top: 45%;
  transform: translateY(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 0.5rem;
}
.promo-half-right {
  left: 50%;
  width: 50%;
  top: 45%;
  transform: translateY(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 0.5rem;
}
.promo-capsule-wrap {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}
/* Capsule: 가로로 누운 pill — 크기 확대, 아래 짤리지 않게 높이 제한 */
.promo-capsule-full {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: -160px;
  margin-top: -48px;
  width: 320px;
  height: 96px;
  border-radius: 9999px;
  background: linear-gradient(135deg, var(--promo-cyan) 0%, transparent 40%, transparent 60%, var(--promo-purple) 100%);
  box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.7), 0 0 28px rgba(34, 211, 238, 0.35), inset 0 0 48px rgba(34, 211, 238, 0.12);
}
@media (min-width: 640px) {
  .promo-capsule-full {
    margin-left: -190px;
    margin-top: -52px;
    width: 380px;
    height: 104px;
  }
}
/* Scene 4: 가로 pill이 세로로 짤림(좌/우 절반으로 분리) — 각 절반 폭 확대 */
.promo-capsule-half {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 160px;
  height: 96px;
  transform-origin: center center;
  background: linear-gradient(135deg, var(--promo-cyan) 0%, transparent 50%, var(--promo-purple) 100%);
}
@media (min-width: 640px) {
  .promo-capsule-half {
    width: 190px;
    height: 104px;
  }
}
.promo-capsule-left {
  margin-left: -160px;
  margin-top: -48px;
  border-radius: 9999px 0 0 9999px;
  border: 2px solid rgba(34, 211, 238, 0.6);
  border-right: none;
  box-shadow: -8px 0 24px rgba(34, 211, 238, 0.25);
}
@media (min-width: 640px) {
  .promo-capsule-left { margin-left: -190px; margin-top: -52px; }
}
.promo-capsule-right {
  margin-left: 0;
  margin-top: -48px;
  border-radius: 0 9999px 9999px 0;
  border: 2px solid rgba(34, 211, 238, 0.6);
  border-left: none;
  box-shadow: 8px 0 24px rgba(167, 139, 250, 0.2);
}
@media (min-width: 640px) {
  .promo-capsule-right { margin-top: -52px; }
}
@keyframes promoFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-14px); }
}
/* Scan beams: 70% length, 0.6 opacity */
.promo-scan {
  top: 15%;
  left: 50%;
  width: 2px;
  height: 70%;
  transform: translateX(-50%);
  background: linear-gradient(to bottom, transparent, rgba(34, 211, 238, 0.6), transparent);
  animation: promoScan 2s ease-in-out infinite;
}
@keyframes promoScan {
  0%, 100% { opacity: 0.4; transform: translateX(-50%) translateY(-20%); }
  50% { opacity: 0.6; transform: translateX(-50%) translateY(20%); }
}
/* Execution lines: 6 lines at 0/60/120/180/240/300°, expand from center (--line-length) */
.promo-txlines {
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}
.promo-txline {
  position: absolute;
  bottom: 50%;
  left: 50%;
  width: 2px;
  height: var(--line-length, 0px);
  max-height: 800px;
  transform-origin: 50% 100%;
  background: linear-gradient(to top, rgba(34, 211, 238, 0.9), rgba(167, 139, 250, 0.5));
  filter: blur(1px);
  box-shadow: 0 0 8px rgba(34, 211, 238, 0.5);
}
/* Execution burst: radial 500px, blur 20px, cyan→purple */
.promo-burst {
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(34, 211, 238, 0.25) 25%,
    rgba(167, 139, 250, 0.15) 50%,
    transparent 70%
  );
  filter: blur(20px);
  transform-origin: center center;
}
/* Global screen flash (impact frame at 9.25s) */
.promo-flash {
  background: #fff;
  mix-blend-mode: overlay;
}

/* Partners logo grid (The Graph style) */
.partners-logo-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.75rem 1rem;
}

@media (min-width: 640px) {
  .partners-logo-grid {
    grid-template-columns: repeat(5, 1fr);
    gap: 1rem;
  }
}

@media (min-width: 1024px) {
  .partners-logo-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: 1rem 1.25rem;
  }
}

/* Partners section: no box, blend with adjacent sections */
.partners-section {
  background: linear-gradient(180deg,
      transparent 0%,
      rgba(3, 7, 18, 0.2) 50%,
      transparent 100%);
}

/* Fade content at top/bottom so it blends with sections above/below */
.partners-content {
  mask-image: linear-gradient(to bottom,
      transparent 0%,
      black 22%,
      black 78%,
      transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom,
      transparent 0%,
      black 22%,
      black 78%,
      transparent 100%);
}

/* Orbit spin animation for partner logos */
@keyframes orbitSpin {
  from {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* Partners orbit – wide rings, smaller logos */
.partners-orbit {
  position: relative;
}

.partners-orbit-item {
  width: 2.25rem;
  height: 2.25rem;
  min-width: 2.25rem;
  min-height: 2.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.partners-orbit-item img {
  object-fit: contain;
}

@media (min-width: 640px) {
  .partners-orbit-item {
    width: 2.75rem;
    height: 2.75rem;
    min-width: 2.75rem;
    min-height: 2.75rem;
  }
}

/* Why Build With Lucid – match Unleash section image: #0d101a + cyan/teal borders */
.why-build-section {
  background: #0d101a;
  border-top: 1px solid #00b8d4;
  border-bottom: 2px solid #00b8d4;
}

.why-build-section .why-build-subtitle {
  color: var(--lucid-accent);
}

.why-build-section .why-build-desc {
  color: var(--lucid-muted, #9ca3af);
}

.why-build-section .why-build-card[data-active="true"] {
  border-color: rgba(34, 211, 238, 0.5);
  box-shadow: 0 0 0 1px rgba(34, 211, 238, 0.3);
}

.why-build-section .why-visual-secondary {
  background-color: var(--lucid-card);
  border-color: var(--lucid-border);
}

.why-build-section .why-visual-main {
  background-color: var(--lucid-card);
  border-color: var(--lucid-border);
}

.why-left-cards [data-gsap-why-card] {
  opacity: 1;
  transform: translateY(0);
}

@keyframes whyStepBarFill {
  from {
    height: 0%;
  }

  to {
    height: 100%;
  }
}

.why-build-step-bar {
  animation: whyStepBarFill 5s linear forwards;
}

/* Why Build flow: single diagram (left + connector + right) */
.why-build-flow-wrap {
  position: relative;
  min-height: 320px;
}

.why-build-connector svg path:last-of-type {
  filter: drop-shadow(0 0 6px rgba(34, 211, 238, 0.4));
}

/* Moving dashed lines in Why Build flow */
@keyframes whyDashedLineMove {
  from {
    stroke-dashoffset: 0;
  }

  to {
    stroke-dashoffset: 10;
  }
}

.why-flow-dashed-line path {
  animation: whyDashedLineMove 1.2s linear infinite;
}

/* Moving accent segment (flow indicator) – travels full line height */
@keyframes whyFlowSegment {
  from {
    top: 0%;
    opacity: 0.7;
  }

  50% {
    opacity: 1;
  }

  to {
    top: 100%;
    opacity: 0.7;
  }
}

.why-flow-segment {
  animation: whyFlowSegment 2.5s ease-in-out infinite;
}

.why-build-map {
  background: linear-gradient(180deg,
      rgba(15, 10, 35, 0.6) 0%,
      rgba(25, 15, 45, 0.5) 50%,
      rgba(35, 20, 55, 0.5) 100%);
}

.why-map-marker,
.why-map-marker-inner {
  animation: whyMarkerPulse 2.5s ease-in-out infinite;
}

.why-map-marker-inner {
  animation-duration: 2s;
  animation-direction: alternate;
}

@keyframes whyMarkerPulse {

  0%,
  100% {
    opacity: 0.65;
  }

  50% {
    opacity: 1;
  }
}